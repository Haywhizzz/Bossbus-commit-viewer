{"ast":null,"code":"var _jsxFileName = \"/home/ay/Bossbus-commit-viewer/src/pages/search-result/SearchResultPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport Button from '../../components/buttons/Button';\nimport SearchIcon from '../../components/search/SearchIcon';\nimport { validateInput } from '../../utils/index';\nimport './Search.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchResultPage = ({\n  location,\n  ...props\n}) => {\n  _s();\n\n  var _location$state;\n\n  const [searchQuery, setSearchQuery] = useState((location === null || location === void 0 ? void 0 : (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.search) || '');\n  const [commits, setCommits] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const getAllCommitts = async () => {\n    try {\n      const res = await axios.get(`https://api.github.com/repos/${searchQuery}/commits?per_page=10`);\n      setLoading(true);\n      setCommits(res.data);\n    } catch (error) {\n      setError(error.message, 'something went wrong while requesting commits');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  console.log({\n    commits\n  });\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const validate = await validateInput(searchQuery);\n\n    if (validate === true) {\n      getAllCommitts();\n    } else {\n      alert('You need to include / to your query, check the placeholder text for guide');\n    }\n  };\n\n  useEffect(() => {\n    getAllCommits();\n  }, []);\n  if (error) return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"SearchPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"flex h-32 items-center justify-center px-40 bg-gray3\",\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"brand-name text-dark1 text-3xl font-bold mr-9\",\n        to: \"/\",\n        children: \"CommitViewer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"form-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field\",\n          children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n            className: \"m-2 ml-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            type: \"text\",\n            className: \"inputText flex-1 px-2 py-4 bg-gray2 rounded-lg text-xl\",\n            placeholder: \"Eg. facebook/react\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: \"See commits \\uD83D\\uDE80\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"queryParams text-center my-9 text-4xl font-semibold text-dark2\",\n      children: searchQuery\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), loading || commits.length === 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"loading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-result-container\",\n      children: commits.map((commit, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left-side\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"circle\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: commit.author.avatar_url,\n                alt: \"\",\n                className: \"avatar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: commit.commit.author.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"commit-message\",\n            children: commit.commit.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"23:30 28/04/2021\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchResultPage, \"wbiVl2CC2EgoromTMQvn9D8RIbs=\");\n\n_c = SearchResultPage;\nexport default SearchResultPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResultPage\");","map":{"version":3,"sources":["/home/ay/Bossbus-commit-viewer/src/pages/search-result/SearchResultPage.jsx"],"names":["React","useEffect","useState","NavLink","axios","Button","SearchIcon","validateInput","SearchResultPage","location","props","searchQuery","setSearchQuery","state","search","commits","setCommits","error","setError","loading","setLoading","getAllCommitts","res","get","data","message","console","log","handleSubmit","e","preventDefault","validate","alert","getAllCommits","target","value","length","map","commit","index","author","avatar_url","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport axios from 'axios'\n\nimport Button from '../../components/buttons/Button'\nimport SearchIcon from '../../components/search/SearchIcon'\n\nimport { validateInput } from '../../utils/index'\n\nimport './Search.scss'\n\nconst SearchResultPage = ({ location, ...props }) => {\n  const [searchQuery, setSearchQuery] = useState(location?.state?.search || '')\n  const [commits, setCommits] = useState([])\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const getAllCommitts = async () => {\n    try {\n      const res = await axios.get(\n        `https://api.github.com/repos/${searchQuery}/commits?per_page=10`\n      )\n      setLoading(true)\n      setCommits(res.data)\n    } catch (error) {\n      setError(error.message, 'something went wrong while requesting commits')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  console.log({ commits })\n\n  const handleSubmit = async e => {\n    e.preventDefault()\n    const validate = await validateInput(searchQuery)\n\n    if (validate === true) {\n      getAllCommitts()\n    } else {\n      alert(\n        'You need to include / to your query, check the placeholder text for guide'\n      )\n    }\n  }\n\n  useEffect(() => {\n    getAllCommits()\n  }, [])\n\n  if (error) return <h1>{error}</h1>\n\n  return (\n    <div className='SearchPage'>\n      <nav className='flex h-32 items-center justify-center px-40 bg-gray3'>\n        <NavLink\n          className='brand-name text-dark1 text-3xl font-bold mr-9'\n          to='/'\n        >\n          CommitViewer\n        </NavLink>\n        <form onSubmit={handleSubmit} className='form-container'>\n          <div className='input-field'>\n            <SearchIcon className='m-2 ml-4' />\n            <input\n              value={searchQuery}\n              onChange={e => setSearchQuery(e.target.value)}\n              type='text'\n              className='inputText flex-1 px-2 py-4 bg-gray2 rounded-lg text-xl'\n              placeholder='Eg. facebook/react'\n            />\n          </div>\n          <Button label='See commits ðŸš€' />\n        </form>\n      </nav>\n      <p className='queryParams text-center my-9 text-4xl font-semibold text-dark2'>\n        {searchQuery}\n      </p>\n      {loading || commits.length === 0 ? (\n        <h2 className='loading'>Loading...</h2>\n      ) : (\n        <div className='search-result-container'>\n          {commits.map((commit, index) => (\n            <div key={index} className='result-container'>\n              <div className='left'>\n                <div className='left-side'>\n                  <div className='circle'>\n                    <img\n                      src={commit.author.avatar_url}\n                      alt=''\n                      className='avatar'\n                    />\n                  </div>\n                  <p>{commit.commit.author.name}</p>\n                </div>\n                <p className='commit-message'>{commit.commit.message}</p>\n              </div>\n              <p>23:30 28/04/2021</p>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default SearchResultPage"]},"metadata":{},"sourceType":"module"}